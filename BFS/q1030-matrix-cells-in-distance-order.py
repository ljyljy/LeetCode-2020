# ç»™å‡º R è¡Œ C åˆ—çš„çŸ©é˜µï¼Œå…¶ä¸­çš„å•å…ƒæ ¼çš„æ•´æ•°åæ ‡ä¸º (r, c)ï¼Œæ»¡è¶³ 0 <= r < R ä¸” 0 <= c < Cã€‚
#
#  å¦å¤–ï¼Œæˆ‘ä»¬åœ¨è¯¥çŸ©é˜µä¸­ç»™å‡ºäº†ä¸€ä¸ªåæ ‡ä¸º (r0, c0) çš„å•å…ƒæ ¼ã€‚
#
#  è¿”å›çŸ©é˜µä¸­çš„æ‰€æœ‰å•å…ƒæ ¼çš„åæ ‡ï¼Œå¹¶æŒ‰åˆ° (r0, c0) çš„è·ç¦»ä»æœ€å°åˆ°æœ€å¤§çš„é¡ºåºæ’ï¼Œå…¶ä¸­ï¼Œä¸¤å•å…ƒæ ¼(r1, c1) å’Œ (r2, c2) ä¹‹é—´çš„è·ç¦»æ˜¯æ›¼å“ˆ
# é¡¿è·ç¦»ï¼Œ|r1 - r2| + |c1 - c2|ã€‚ï¼ˆä½ å¯ä»¥æŒ‰ä»»ä½•æ»¡è¶³æ­¤æ¡ä»¶çš„é¡ºåºè¿”å›ç­”æ¡ˆã€‚ï¼‰
#
#
#
#  ç¤ºä¾‹ 1ï¼š
#
#  è¾“å…¥ï¼šR = 1, C = 2, r0 = 0, c0 = 0
# è¾“å‡ºï¼š[[0,0],[0,1]]
# è§£é‡Šï¼šä» (r0, c0) åˆ°å…¶ä»–å•å…ƒæ ¼çš„è·ç¦»ä¸ºï¼š[0,1]
#
#
#  ç¤ºä¾‹ 2ï¼š
#
#  è¾“å…¥ï¼šR = 2, C = 2, r0 = 0, c0 = 1
# è¾“å‡ºï¼š[[0,1],[0,0],[1,1],[1,0]]
# è§£é‡Šï¼šä» (r0, c0) åˆ°å…¶ä»–å•å…ƒæ ¼çš„è·ç¦»ä¸ºï¼š[0,1,1,2]
# [[0,1],[1,1],[0,0],[1,0]] ä¹Ÿä¼šè¢«è§†ä½œæ­£ç¡®ç­”æ¡ˆã€‚
#
#
#  ç¤ºä¾‹ 3ï¼š
#
#  è¾“å…¥ï¼šR = 2, C = 3, r0 = 1, c0 = 2
# è¾“å‡ºï¼š[[1,2],[0,2],[1,1],[0,1],[1,0],[0,0]]
# è§£é‡Šï¼šä» (r0, c0) åˆ°å…¶ä»–å•å…ƒæ ¼çš„è·ç¦»ä¸ºï¼š[0,1,1,2,2,3]
# å…¶ä»–æ»¡è¶³é¢˜ç›®è¦æ±‚çš„ç­”æ¡ˆä¹Ÿä¼šè¢«è§†ä¸ºæ­£ç¡®ï¼Œä¾‹å¦‚ [[1,2],[1,1],[0,2],[1,0],[0,1],[0,0]]ã€‚
#
#
#
#
#  æç¤ºï¼š
#
#
#  1 <= R <= 100
#  1 <= C <= 100
#  0 <= r0 < R
#  0 <= c0 < C
#
#  Related Topics æ’åº
#  ğŸ‘ 54 ğŸ‘ 0


# leetcode submit region begin(Prohibit modification and deletion)
from typing import List


class Solution:
    # æ³•3ï¼šBFS
    def allCellsDistOrder(self, R, C, r0, c0) -> List[List[int]]:
        def isValid(r, c):
            return 0 <= r < R and 0 <= c < C

        from collections import deque
        dirs = [(0, 1), (1, 0), (0, -1), (-1, 0)]
        visited, rst = [[False] * C for _ in range(R)], []
        queue, visited[r0][c0] = deque([[r0, c0]]), True
        while queue:
            size = len(queue)
            for i in range(size):
                cur = queue.popleft()
                print(cur)
                rst.append(cur)
                for dir in dirs:
                    x, y = cur[0] + dir[0], cur[1] + dir[1]
                    if not isValid(x, y) or visited[x][y]:
                        continue
                    queue.append([x, y])
                    visited[x][y] = True
        return list(rst)

    # â¤æ³•2ï¼šã€æ¡¶æ’åºâ¤ã€‘ï¼šæ³¨æ„åˆ°æ–¹æ³•ä¸€ä¸­æ’åºçš„æ—¶é—´å¤æ‚åº¦å¤ªé«˜ã€‚å®é™…åœ¨æšä¸¾æ‰€æœ‰ç‚¹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æŒ‰ç…§å“ˆæ›¼é¡¿è·ç¦»åˆ†æ¡¶ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å®ç°çº¿æ€§çš„æ¡¶æ’åºã€‚
    #  1.éå†æ‰€æœ‰åæ ‡ï¼ŒæŒ‰ç…§è·ç¦»çš„å¤§å°åˆ†ç»„ï¼Œæ¯ç»„çš„è·ç¦»ç›¸ç­‰ï¼ˆå³æ”¾å…¥ä¸€ä¸ªæ¡¶ä¸­ï¼‰
    #  2.æŒ‰ç…§è·ç¦»ä»å°åˆ°å¤§çš„åŸåˆ™ï¼Œéå†æ‰€æœ‰æ¡¶ï¼Œå¹¶è¾“å‡ºç»“æœ
    # æœ¬è§£æ³•å…³é”®åœ¨äºæ±‚å¾—å¯èƒ½çš„æœ€å¤§è·ç¦»ï¼Œå³è¡Œè·ç¦»å’Œåˆ—è·ç¦»éƒ½æœ€å¤§æ—¶ï¼šmax(r0, R - 1 - r0) + max(c0, C - 1 - c0)
    # æ³¨æ„ï¼š
    # æ­¤è§£æ³•æ—¶é—´å¤æ‚åº¦ä¸º O(R*C)ï¼Œç†è®ºä¸Šå·²è¾¾åˆ°æœ€å¿«å¯èƒ½
    # å®é™…æ—¶é—´æ¶ˆè€—ä¼šæ¯”é¢„ä¼°è¦å·®ï¼Œä¸åŒè¯­è¨€ä¾¿åˆ©ç¨‹åº¦å’Œä¼˜åŒ–ä¸ä¸€ï¼ŒåŸå› å¦‚ä¸‹ï¼š
    #   - æ¡¶çš„åˆ¶ä½œæ¶‰åŠå¤§é‡å®¹å™¨çš„åˆå§‹åŒ–å’Œå­˜å–
    #   - æ¡¶ä¸­è¦å­˜å‚¨å¤§é‡çš„åæ ‡ä¿¡æ¯ï¼Œä¸è®ºæ˜¯ç›´æ¥ä½¿ç”¨é•¿åº¦ä¸º 2 çš„å°æ•°ç»„å­˜å‚¨ï¼Œè¿˜æ˜¯ç”¨æ–°çš„ç®€å•æ•°æ®ç±»ï¼Œéƒ½ä¼šè€—è´¹å¾ˆå¤šæ—¶é—´

    # æ—¶é—´å¤æ‚åº¦ï¼šO(RC)ï¼Œå­˜å‚¨æ‰€æœ‰ç‚¹æ—¶é—´å¤æ‚åº¦ O(RC)ï¼Œæ¡¶æ’åºO(RC)ã€‚
    # ç©ºé—´å¤æ‚åº¦ï¼šO(RC)ï¼Œéœ€è¦å­˜å‚¨çŸ©é˜µå†…æ‰€æœ‰ç‚¹ã€‚
    def allCellsDistOrder2(self, R, C, r0, c0) -> List[List[int]]:
        import collections  # â†“ ranR, ranC = [0, R-1], [0, C-1]
        bucket = collections.defaultdict(list)
        dist_key = lambda r1, c1, r0, c0: abs(r1 - r0) + abs(c1 - c0)
        for i in range(R):
            for j in range(C):  # â¤æ³¨æ„æ˜¯appendï¼ä¸æ˜¯ç­‰å·ï¼ˆâˆµç­‰è·ç¦»çš„å¯èƒ½æœ‰å¤šä¸ªï¼‰
                bucket[dist_key(i, j, r0, c0)].append([i, j])
        # â¤å¯¹å­—å…¸æ’åºï¼šhttps://www.cnblogs.com/wqbin/p/10222768.html
        rst = []
        # æ±‚æ³•1ï¼š
        dists = sorted(bucket.keys())  # æŒ‰å‡åºæ’åˆ—
        for dist in dists:
            rst.extend(bucket[dist])  # # âˆµdefaultdict âˆ´keyä¸å­˜åœ¨ä¸æŠ¥é”™ï¼
        # æ±‚æ³•2ï¼šä¸æ¨èï¼Œéå†æ•ˆç‡ä¸é«˜ï¼Œå¾ˆå¤š[0,maxDist]å¯èƒ½ä¸å­˜åœ¨
        # maxDist = max(r0-0, R-1 -r0) + max(c0-0, C-1 -c0)
        # for i in range(maxDist+1):  # âˆµdefaultdict âˆ´keyä¸å­˜åœ¨ï¼Œè¿”å›[]
        #     rst.extend(bucket[i])
        return rst

    # æ³•1: ã€ç›´æ¥æ’åºã€‘ï¼šé¦–å…ˆå­˜å‚¨çŸ©é˜µå†…æ‰€æœ‰çš„ç‚¹ï¼Œç„¶åå°†å…¶æŒ‰ç…§å“ˆæ›¼é¡¿è·ç¦»ç›´æ¥æ’åºã€‚
    #  - ä¼˜åŒ–ï¼šæœ¬è§£æ³•å¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨ä¼˜åŒ–ï¼Œå³ä½¿ç”¨åæ ‡ä½œ keyï¼Œä½¿ç”¨è·ç¦»ä½œ valueï¼Œç„¶åæŒ‰ç…§è·ç¦»æ’åºï¼Œè¿™æ ·å°±ä¸ä¼šå› ä¸ºå¤šæ¬¡å¯¹åŒä¸€ä¸‹æ ‡è¿›è¡Œæ¯”è¾ƒè€Œé‡å¤è®¡ç®—è·ç¦»
    # æ— è®ºå¦‚ä½•ä¼˜åŒ–ï¼Œæ ¸å¿ƒä»ç„¶æ˜¯ç›´æ¥æ’åºï¼Œæ—¶é—´å¤æ‚åº¦ä¸ä¼šä¼˜äº O(RC*log(RC))
    # æ—¶é—´å¤æ‚åº¦ï¼šO(RC log(RC))ï¼Œå­˜å‚¨æ‰€æœ‰ç‚¹æ—¶é—´å¤æ‚åº¦ O(RC)ï¼Œæ’åºæ—¶é—´å¤æ‚åº¦ O(RC log(RC))ã€‚
    # ç©ºé—´å¤æ‚åº¦ï¼šO(log(RC))ï¼Œå³ä¸ºæ’åºéœ€è¦ä½¿ç”¨çš„æ ˆç©ºé—´ï¼Œä¸è€ƒè™‘è¿”å›å€¼çš„ç©ºé—´å ç”¨ã€‚
    def allCellsDistOrder1(self, R: int, C: int, r0: int, c0: int) -> List[List[int]]:
        points = [[i, j] for i in range(R) for j in range(C)]
        points.sort(key=lambda x: abs(x[0] - r0) + abs(x[1] - c0))
        return points

# leetcode submit region end(Prohibit modification and deletion)
